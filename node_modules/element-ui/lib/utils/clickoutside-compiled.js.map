{"version":3,"sources":["clickoutside.js"],"names":[],"mappings":"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","file":"clickoutside-compiled.js","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _vue = require('vue');\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _dom = require('element-ui/lib/utils/dom');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar nodeList = [];\nvar ctx = '@@clickoutsideContext';\n\nvar startClick = void 0;\n\n!_vue2.default.prototype.$isServer && (0, _dom.on)(document, 'mousedown', function (e) {\n  return startClick = e;\n});\n\n!_vue2.default.prototype.$isServer && (0, _dom.on)(document, 'mouseup', function (e) {\n  nodeList.forEach(function (node) {\n    return node[ctx].documentHandler(e, startClick);\n  });\n});\n/**\n * v-clickoutside\n * @desc 点击元素外面才会触发的事件\n * @example\n * ```vue\n * <div v-element-clickoutside=\"handleClose\">\n * ```\n */\nexports.default = {\n  bind: function bind(el, binding, vnode) {\n    var id = nodeList.push(el) - 1;\n    var documentHandler = function documentHandler() {\n      var mouseup = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var mousedown = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!vnode.context || !mouseup.target || !mousedown.target || el.contains(mouseup.target) || el.contains(mousedown.target) || el === mouseup.target || vnode.context.popperElm && (vnode.context.popperElm.contains(mouseup.target) || vnode.context.popperElm.contains(mousedown.target))) return;\n\n      if (binding.expression && el[ctx].methodName && vnode.context[el[ctx].methodName]) {\n        vnode.context[el[ctx].methodName]();\n      } else {\n        el[ctx].bindingFn && el[ctx].bindingFn();\n      }\n    };\n    el[ctx] = {\n      id: id,\n      documentHandler: documentHandler,\n      methodName: binding.expression,\n      bindingFn: binding.value\n    };\n  },\n  update: function update(el, binding) {\n    el[ctx].methodName = binding.expression;\n    el[ctx].bindingFn = binding.value;\n  },\n  unbind: function unbind(el) {\n    var len = nodeList.length;\n\n    for (var i = 0; i < len; i++) {\n      if (nodeList[i][ctx].id === el[ctx].id) {\n        nodeList.splice(i, 1);\n        break;\n      }\n    }\n  }\n};"]}