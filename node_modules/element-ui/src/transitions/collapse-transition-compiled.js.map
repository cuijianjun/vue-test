{"version":3,"sources":["collapse-transition.js"],"names":[],"mappings":";;AAAA,SAAS,QAAT,EAAmB,WAAnB,QAAsC,0BAAtC;;IAEM,U;;;;;;;gCACQ,E,EAAI;AACd,eAAS,EAAT,EAAa,qBAAb;AACA,UAAI,CAAC,GAAG,OAAR,EAAiB,GAAG,OAAH,GAAa,EAAb;;AAEjB,SAAG,OAAH,CAAW,aAAX,GAA2B,GAAG,KAAH,CAAS,UAApC;AACA,SAAG,OAAH,CAAW,gBAAX,GAA8B,GAAG,KAAH,CAAS,aAAvC;;AAEA,SAAG,KAAH,CAAS,MAAT,GAAkB,GAAlB;AACA,SAAG,KAAH,CAAS,UAAT,GAAsB,CAAtB;AACA,SAAG,KAAH,CAAS,aAAT,GAAyB,CAAzB;AACD;;;0BAEK,E,EAAI;AACR,SAAG,OAAH,CAAW,WAAX,GAAyB,GAAG,KAAH,CAAS,QAAlC;AACA,UAAI,GAAG,YAAH,KAAoB,CAAxB,EAA2B;AACzB,WAAG,KAAH,CAAS,MAAT,GAAkB,GAAG,YAAH,GAAkB,IAApC;AACA,WAAG,KAAH,CAAS,UAAT,GAAsB,GAAG,OAAH,CAAW,aAAjC;AACA,WAAG,KAAH,CAAS,aAAT,GAAyB,GAAG,OAAH,CAAW,gBAApC;AACD,OAJD,MAIO;AACL,WAAG,KAAH,CAAS,MAAT,GAAkB,EAAlB;AACA,WAAG,KAAH,CAAS,UAAT,GAAsB,GAAG,OAAH,CAAW,aAAjC;AACA,WAAG,KAAH,CAAS,aAAT,GAAyB,GAAG,OAAH,CAAW,gBAApC;AACD;;AAED,SAAG,KAAH,CAAS,QAAT,GAAoB,QAApB;AACD;;;+BAEU,E,EAAI;AACb;AACA,kBAAY,EAAZ,EAAgB,qBAAhB;AACA,SAAG,KAAH,CAAS,MAAT,GAAkB,EAAlB;AACA,SAAG,KAAH,CAAS,QAAT,GAAoB,GAAG,OAAH,CAAW,WAA/B;AACD;;;gCAEW,E,EAAI;AACd,UAAI,CAAC,GAAG,OAAR,EAAiB,GAAG,OAAH,GAAa,EAAb;AACjB,SAAG,OAAH,CAAW,aAAX,GAA2B,GAAG,KAAH,CAAS,UAApC;AACA,SAAG,OAAH,CAAW,gBAAX,GAA8B,GAAG,KAAH,CAAS,aAAvC;AACA,SAAG,OAAH,CAAW,WAAX,GAAyB,GAAG,KAAH,CAAS,QAAlC;;AAEA,SAAG,KAAH,CAAS,MAAT,GAAkB,GAAG,YAAH,GAAkB,IAApC;AACA,SAAG,KAAH,CAAS,QAAT,GAAoB,QAApB;AACD;;;0BAEK,E,EAAI;AACR,UAAI,GAAG,YAAH,KAAoB,CAAxB,EAA2B;AACzB;AACA,iBAAS,EAAT,EAAa,qBAAb;AACA,WAAG,KAAH,CAAS,MAAT,GAAkB,CAAlB;AACA,WAAG,KAAH,CAAS,UAAT,GAAsB,CAAtB;AACA,WAAG,KAAH,CAAS,aAAT,GAAyB,CAAzB;AACD;AACF;;;+BAEU,E,EAAI;AACb,kBAAY,EAAZ,EAAgB,qBAAhB;AACA,SAAG,KAAH,CAAS,MAAT,GAAkB,EAAlB;AACA,SAAG,KAAH,CAAS,QAAT,GAAoB,GAAG,OAAH,CAAW,WAA/B;AACA,SAAG,KAAH,CAAS,UAAT,GAAsB,GAAG,OAAH,CAAW,aAAjC;AACA,SAAG,KAAH,CAAS,aAAT,GAAyB,GAAG,OAAH,CAAW,gBAApC;AACD;;;;;;AAGH,eAAe;AACb,QAAM,sBADO;AAEb,cAAY,IAFC;AAGb,QAHa,kBAGN,CAHM,QAGW;AAAA,QAAZ,QAAY,QAAZ,QAAY;;AACtB,QAAM,OAAO;AACX,UAAI,IAAI,UAAJ;AADO,KAAb;;AAIA,WAAO,EAAE,YAAF,EAAgB,IAAhB,EAAsB,QAAtB,CAAP;AACD;AATY,CAAf","file":"collapse-transition-compiled.js","sourcesContent":["import { addClass, removeClass } from 'element-ui/src/utils/dom';\n\nclass Transition {\n  beforeEnter(el) {\n    addClass(el, 'collapse-transition');\n    if (!el.dataset) el.dataset = {};\n\n    el.dataset.oldPaddingTop = el.style.paddingTop;\n    el.dataset.oldPaddingBottom = el.style.paddingBottom;\n\n    el.style.height = '0';\n    el.style.paddingTop = 0;\n    el.style.paddingBottom = 0;\n  }\n\n  enter(el) {\n    el.dataset.oldOverflow = el.style.overflow;\n    if (el.scrollHeight !== 0) {\n      el.style.height = el.scrollHeight + 'px';\n      el.style.paddingTop = el.dataset.oldPaddingTop;\n      el.style.paddingBottom = el.dataset.oldPaddingBottom;\n    } else {\n      el.style.height = '';\n      el.style.paddingTop = el.dataset.oldPaddingTop;\n      el.style.paddingBottom = el.dataset.oldPaddingBottom;\n    }\n\n    el.style.overflow = 'hidden';\n  }\n\n  afterEnter(el) {\n    // for safari: remove class then reset height is necessary\n    removeClass(el, 'collapse-transition');\n    el.style.height = '';\n    el.style.overflow = el.dataset.oldOverflow;\n  }\n\n  beforeLeave(el) {\n    if (!el.dataset) el.dataset = {};\n    el.dataset.oldPaddingTop = el.style.paddingTop;\n    el.dataset.oldPaddingBottom = el.style.paddingBottom;\n    el.dataset.oldOverflow = el.style.overflow;\n\n    el.style.height = el.scrollHeight + 'px';\n    el.style.overflow = 'hidden';\n  }\n\n  leave(el) {\n    if (el.scrollHeight !== 0) {\n      // for safari: add class after set height, or it will jump to zero height suddenly, weired\n      addClass(el, 'collapse-transition');\n      el.style.height = 0;\n      el.style.paddingTop = 0;\n      el.style.paddingBottom = 0;\n    }\n  }\n\n  afterLeave(el) {\n    removeClass(el, 'collapse-transition');\n    el.style.height = '';\n    el.style.overflow = el.dataset.oldOverflow;\n    el.style.paddingTop = el.dataset.oldPaddingTop;\n    el.style.paddingBottom = el.dataset.oldPaddingBottom;\n  }\n}\n\nexport default {\n  name: 'ElCollapseTransition',\n  functional: true,\n  render(h, { children }) {\n    const data = {\n      on: new Transition()\n    };\n\n    return h('transition', data, children);\n  }\n};\n"]}