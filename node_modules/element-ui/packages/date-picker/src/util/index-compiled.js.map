{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["import dateUtil from 'element-ui/src/utils/date';\nimport { t } from 'element-ui/src/locale';\n\nconst weeks = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\nconst months = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];\nconst getI18nSettings = () => {\n  return {\n    dayNamesShort: weeks.map(week => t(`el.datepicker.weeks.${ week }`)),\n    dayNames: weeks.map(week => t(`el.datepicker.weeks.${ week }`)),\n    monthNamesShort: months.map(month => t(`el.datepicker.months.${ month }`)),\n    monthNames: months.map((month, index) => t(`el.datepicker.month${ index + 1 }`))\n  };\n};\n\nconst newArray = function(start, end) {\n  let result = [];\n  for (let i = start; i <= end; i++) {\n    result.push(i);\n  }\n  return result;\n};\n\nexport const equalDate = function(dateA, dateB) {\n  return dateA === dateB || new Date(dateA).getTime() === new Date(dateB).getTime();\n};\n\nexport const toDate = function(date) {\n  return isDate(date) ? new Date(date) : null;\n};\n\nexport const isDate = function(date) {\n  if (date === null || date === undefined) return false;\n  if (isNaN(new Date(date).getTime())) return false;\n  return true;\n};\n\nexport const formatDate = function(date, format) {\n  date = toDate(date);\n  if (!date) return '';\n  return dateUtil.format(date, format || 'yyyy-MM-dd', getI18nSettings());\n};\n\nexport const parseDate = function(string, format) {\n  return dateUtil.parse(string, format || 'yyyy-MM-dd', getI18nSettings());\n};\n\nexport const getDayCountOfMonth = function(year, month) {\n  if (month === 3 || month === 5 || month === 8 || month === 10) {\n    return 30;\n  }\n\n  if (month === 1) {\n    if (year % 4 === 0 && year % 100 !== 0 || year % 400 === 0) {\n      return 29;\n    } else {\n      return 28;\n    }\n  }\n\n  return 31;\n};\n\nexport const getFirstDayOfMonth = function(date) {\n  const temp = new Date(date.getTime());\n  temp.setDate(1);\n  return temp.getDay();\n};\n\nexport const DAY_DURATION = 86400000;\n\nexport const getStartDateOfMonth = function(year, month) {\n  const result = new Date(year, month, 1);\n  const day = result.getDay();\n\n  if (day === 0) {\n    result.setTime(result.getTime() - DAY_DURATION * 7);\n  } else {\n    result.setTime(result.getTime() - DAY_DURATION * day);\n  }\n\n  return result;\n};\n\nexport const getWeekNumber = function(src) {\n  const date = new Date(src.getTime());\n  date.setHours(0, 0, 0, 0);\n  // Thursday in current week decides the year.\n  date.setDate(date.getDate() + 3 - (date.getDay() + 6) % 7);\n  // January 4 is always in week 1.\n  const week1 = new Date(date.getFullYear(), 0, 4);\n  // Adjust to Thursday in week 1 and count number of weeks from date to week 1.\n  return 1 + Math.round(((date.getTime() - week1.getTime()) / 86400000 - 3 + (week1.getDay() + 6) % 7) / 7);\n};\n\nexport const prevMonth = function(src) {\n  const year = src.getFullYear();\n  const month = src.getMonth();\n  const date = src.getDate();\n\n  const newYear = month === 0 ? year - 1 : year;\n  const newMonth = month === 0 ? 11 : month - 1;\n\n  const newMonthDayCount = getDayCountOfMonth(newYear, newMonth);\n  if (newMonthDayCount < date) {\n    src.setDate(newMonthDayCount);\n  }\n\n  src.setMonth(newMonth);\n  src.setFullYear(newYear);\n\n  return new Date(src.getTime());\n};\n\nexport const nextMonth = function(src) {\n  const year = src.getFullYear();\n  const month = src.getMonth();\n  const date = src.getDate();\n\n  const newYear = month === 11 ? year + 1 : year;\n  const newMonth = month === 11 ? 0 : month + 1;\n\n  const newMonthDayCount = getDayCountOfMonth(newYear, newMonth);\n  if (newMonthDayCount < date) {\n    src.setDate(newMonthDayCount);\n  }\n\n  src.setMonth(newMonth);\n  src.setFullYear(newYear);\n\n  return new Date(src.getTime());\n};\n\nexport const getRangeHours = function(ranges) {\n  const hours = [];\n  let disabledHours = [];\n\n  (ranges || []).forEach(range => {\n    const value = range.map(date => date.getHours());\n\n    disabledHours = disabledHours.concat(newArray(value[0], value[1]));\n  });\n\n  if (disabledHours.length) {\n    for (let i = 0; i < 24; i++) {\n      hours[i] = disabledHours.indexOf(i) === -1;\n    }\n  } else {\n    for (let i = 0; i < 24; i++) {\n      hours[i] = false;\n    }\n  }\n\n  return hours;\n};\n\nexport const limitRange = function(date, ranges, format = 'yyyy-MM-dd HH:mm:ss') {\n  if (!ranges || !ranges.length) return date;\n\n  const len = ranges.length;\n\n  date = dateUtil.parse(dateUtil.format(date, format), format);\n  for (let i = 0; i < len; i++) {\n    const range = ranges[i];\n    if (date >= range[0] && date <= range[1]) {\n      return date;\n    }\n  }\n\n  let maxDate = ranges[0][0];\n  let minDate = ranges[0][0];\n\n  ranges.forEach(range => {\n    minDate = new Date(Math.min(range[0], minDate));\n    maxDate = new Date(Math.max(range[1], maxDate));\n  });\n\n  return date < minDate ? minDate : maxDate;\n};\n"]}