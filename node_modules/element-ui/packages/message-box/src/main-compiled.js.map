{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main-compiled.js","sourcesContent":["const defaults = {\n  title: undefined,\n  message: '',\n  type: '',\n  showInput: false,\n  showClose: true,\n  modalFade: true,\n  lockScroll: true,\n  closeOnClickModal: true,\n  closeOnPressEscape: true,\n  inputValue: null,\n  inputPlaceholder: '',\n  inputPattern: null,\n  inputValidator: null,\n  inputErrorMessage: '',\n  showConfirmButton: true,\n  showCancelButton: false,\n  confirmButtonPosition: 'right',\n  confirmButtonHighlight: false,\n  cancelButtonHighlight: false,\n  confirmButtonText: '',\n  cancelButtonText: '',\n  confirmButtonClass: '',\n  cancelButtonClass: '',\n  customClass: '',\n  beforeClose: null\n};\n\nimport Vue from 'vue';\nimport msgboxVue from './main.vue';\nimport merge from 'element-ui/src/utils/merge';\nimport { isVNode } from 'element-ui/src/utils/vdom';\n\nconst MessageBoxConstructor = Vue.extend(msgboxVue);\n\nlet currentMsg, instance;\nlet msgQueue = [];\n\nconst defaultCallback = action => {\n  if (currentMsg) {\n    let callback = currentMsg.callback;\n    if (typeof callback === 'function') {\n      if (instance.showInput) {\n        callback(instance.inputValue, action);\n      } else {\n        callback(action);\n      }\n    }\n    if (currentMsg.resolve) {\n      if (action === 'confirm') {\n        if (instance.showInput) {\n          currentMsg.resolve({ value: instance.inputValue, action });\n        } else {\n          currentMsg.resolve(action);\n        }\n      } else if (action === 'cancel' && currentMsg.reject) {\n        currentMsg.reject(action);\n      }\n    }\n  }\n};\n\nconst initInstance = () => {\n  instance = new MessageBoxConstructor({\n    el: document.createElement('div')\n  });\n\n  instance.callback = defaultCallback;\n};\n\nconst showNextMsg = () => {\n  if (!instance) {\n    initInstance();\n  }\n  instance.action = '';\n\n  if (!instance.visible || instance.closeTimer) {\n    if (msgQueue.length > 0) {\n      currentMsg = msgQueue.shift();\n\n      let options = currentMsg.options;\n      for (let prop in options) {\n        if (options.hasOwnProperty(prop)) {\n          instance[prop] = options[prop];\n        }\n      }\n      if (options.callback === undefined) {\n        instance.callback = defaultCallback;\n      }\n\n      let oldCb = instance.callback;\n      instance.callback = (action, instance) => {\n        oldCb(action, instance);\n        showNextMsg();\n      };\n      if (isVNode(instance.message)) {\n        instance.$slots.default = [instance.message];\n        instance.message = null;\n      } else {\n        delete instance.$slots.default;\n      }\n      ['modal', 'showClose', 'closeOnClickModal', 'closeOnPressEscape'].forEach(prop => {\n        if (instance[prop] === undefined) {\n          instance[prop] = true;\n        }\n      });\n      document.body.appendChild(instance.$el);\n\n      Vue.nextTick(() => {\n        instance.visible = true;\n      });\n    }\n  }\n};\n\nconst MessageBox = function(options, callback) {\n  if (Vue.prototype.$isServer) return;\n  if (typeof options === 'string') {\n    options = {\n      message: options\n    };\n    if (arguments[1]) {\n      options.title = arguments[1];\n    }\n    if (arguments[2]) {\n      options.type = arguments[2];\n    }\n  } else if (options.callback && !callback) {\n    callback = options.callback;\n  }\n\n  if (typeof Promise !== 'undefined') {\n    return new Promise((resolve, reject) => { // eslint-disable-line\n      msgQueue.push({\n        options: merge({}, defaults, MessageBox.defaults, options),\n        callback: callback,\n        resolve: resolve,\n        reject: reject\n      });\n\n      showNextMsg();\n    });\n  } else {\n    msgQueue.push({\n      options: merge({}, defaults, MessageBox.defaults, options),\n      callback: callback\n    });\n\n    showNextMsg();\n  }\n};\n\nMessageBox.setDefaults = defaults => {\n  MessageBox.defaults = defaults;\n};\n\nMessageBox.alert = (message, title, options) => {\n  if (typeof title === 'object') {\n    options = title;\n    title = '';\n  }\n  return MessageBox(merge({\n    title: title,\n    message: message,\n    $type: 'alert',\n    closeOnPressEscape: false,\n    closeOnClickModal: false\n  }, options));\n};\n\nMessageBox.confirm = (message, title, options) => {\n  if (typeof title === 'object') {\n    options = title;\n    title = '';\n  }\n  return MessageBox(merge({\n    title: title,\n    message: message,\n    $type: 'confirm',\n    showCancelButton: true\n  }, options));\n};\n\nMessageBox.prompt = (message, title, options) => {\n  if (typeof title === 'object') {\n    options = title;\n    title = '';\n  }\n  return MessageBox(merge({\n    title: title,\n    message: message,\n    showCancelButton: true,\n    showInput: true,\n    $type: 'prompt'\n  }, options));\n};\n\nMessageBox.close = () => {\n  instance.visible = false;\n  msgQueue = [];\n  currentMsg = null;\n};\n\nexport default MessageBox;\nexport { MessageBox };\n"]}