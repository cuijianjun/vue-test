{"version":3,"sources":["addStyles.js"],"names":[],"mappings":"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","file":"addStyles-compiled.js","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(selector) {\n\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\tmemo[selector] = fn.call(this, selector);\n\t\t}\n\n\t\treturn memo[selector]\n\t};\n})(function (target) {\n\treturn document.querySelector(target)\n});\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton) options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n"]}