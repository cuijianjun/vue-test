{"version":3,"sources":["config.js"],"names":[],"mappings":"AAAA;;AAEA,OAAO,cAAP,CAAsB,OAAtB,EAA+B,YAA/B,EAA6C;AAC3C,SAAO;AADoC,CAA7C;;AAIA,IAAI,cAAc,QAAQ,kBAAR,CAAlB;;AAEA,IAAI,cAAc,uBAAuB,WAAvB,CAAlB;;AAEA,IAAI,SAAS,QAAQ,aAAR,CAAb;;AAEA,IAAI,SAAS,uBAAuB,MAAvB,CAAb;;AAEA,QAAQ,OAAR,GAAkB,MAAlB;;AAEA,IAAI,YAAY,QAAQ,YAAR,CAAhB;;AAEA,IAAI,aAAa,uBAAuB,SAAvB,CAAjB;;AAEA,IAAI,eAAe,QAAQ,eAAR,CAAnB;;AAEA,IAAI,gBAAgB,uBAAuB,YAAvB,CAApB;;AAEA,SAAS,sBAAT,CAAgC,GAAhC,EAAqC;AAAE,SAAO,OAAO,IAAI,UAAX,GAAwB,GAAxB,GAA8B,EAAE,SAAS,GAAX,EAArC;AAAwD;;AAE/F,IAAI,aAAa,CAAC,QAAD,EAAW,WAAX,EAAwB,eAAxB,CAAjB;;AAEA,IAAI,SAAS,KAAK,CAAlB;AACA,IAAI,MAAM,EAAV;AACA,IAAI,UAAU,IAAI,WAAW,OAAf,EAAd;;AAEA;;AAEA,SAAS,MAAT,GAAkB;AAChB,MAAI,OAAO,UAAU,MAAV,GAAmB,CAAnB,IAAwB,UAAU,CAAV,MAAiB,SAAzC,GAAqD,UAAU,CAAV,CAArD,GAAoE,EAA/E;AAAA,MACI,WAAW,KAAK,GADpB;AAAA,MAEI,MAAM,aAAa,SAAb,GAAyB,QAAQ,GAAR,EAAzB,GAAyC,QAFnD;AAAA,MAGI,UAAU,KAAK,EAHnB;AAAA,MAII,KAAK,YAAY,SAAZ,GAAwB,UAAxB,GAAqC,OAJ9C;;AAMA,MAAI,WAAW,GAAf,EAAoB;AAClB,aAAS,GAAT;AACA,YAAQ,KAAR;AACD;AACD,GAAC,GAAG,OAAO,OAAX,EAAoB,CAAC,GAAG,YAAY,OAAhB,EAAyB,EAAzB,CAApB,EAAkD,UAAU,EAAV,EAAc;AAC9D,QAAI,CAAC,QAAQ,GAAR,CAAY,EAAZ,CAAL,EAAsB;AACpB,UAAI,aAAa,cAAc,OAAd,CAAsB,OAAtB,CAA8B,EAA9B,EAAkC,GAAlC,CAAjB;AACA,UAAI,UAAJ,EAAgB;AACd,YAAI,IAAJ,CAAS,EAAT;AACA,gBAAQ,GAAR,CAAY,EAAZ,EAAgB,IAAI,cAAc,OAAlB,CAA0B,UAA1B,CAAhB;AACD;AACF;AACF,GARD;AASA,SAAO,EAAE,QAAF,EAAO,gBAAP,EAAP;AACD;AACD,OAAO,OAAP,GAAiB,QAAQ,SAAR,CAAjB","file":"config-compiled.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _castArray2 = require('lodash/castArray');\n\nvar _castArray3 = _interopRequireDefault(_castArray2);\n\nvar _each2 = require('lodash/each');\n\nvar _each3 = _interopRequireDefault(_each2);\n\nexports.default = config;\n\nvar _MapCache = require('./MapCache');\n\nvar _MapCache2 = _interopRequireDefault(_MapCache);\n\nvar _ModuleCache = require('./ModuleCache');\n\nvar _ModuleCache2 = _interopRequireDefault(_ModuleCache);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaultIds = ['lodash', 'lodash-es', 'lodash-compat'];\n\nvar oldCwd = void 0;\nvar ids = [];\nvar modules = new _MapCache2.default();\n\n/*----------------------------------------------------------------------------*/\n\nfunction config() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$cwd = _ref.cwd,\n      cwd = _ref$cwd === undefined ? process.cwd() : _ref$cwd,\n      _ref$id = _ref.id,\n      id = _ref$id === undefined ? defaultIds : _ref$id;\n\n  if (oldCwd !== cwd) {\n    oldCwd = cwd;\n    modules.clear();\n  }\n  (0, _each3.default)((0, _castArray3.default)(id), function (id) {\n    if (!modules.get(id)) {\n      var moduleRoot = _ModuleCache2.default.resolve(id, cwd);\n      if (moduleRoot) {\n        ids.push(id);\n        modules.set(id, new _ModuleCache2.default(moduleRoot));\n      }\n    }\n  });\n  return { ids, modules };\n};\nmodule.exports = exports['default'];"]}