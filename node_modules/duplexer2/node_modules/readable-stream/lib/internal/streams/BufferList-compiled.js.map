{"version":3,"sources":["BufferList.js"],"names":[],"mappings":"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","file":"BufferList-compiled.js","sourcesContent":["'use strict';\n\n/*<replacement>*/\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();"]}