{"version":3,"sources":["test.js"],"names":[],"mappings":"AAAA,IAAI,MAAM,QAAQ,KAAR,CAAV;AACA,IAAI,SAAS,QAAQ,QAAR,CAAb;AACA,IAAI,gBAAgB,QAAQ,YAAR,CAApB;;AAEA,IAAI,SAAS,IAAI,YAAJ,CAAiB,UAAS,IAAT,EAAe;AAC3C,MAAI,IAAI,YAAY,YAAW;AAC7B,SAAK,IAAL;AACA,SAAK,KAAL,CAAW,MAAX;AACD,GAHO,EAGL,GAHK,CAAR;AAIA,IAAE,KAAF;AACD,CANY,CAAb;AAOA,OAAO,MAAP,CAAc,IAAd;AACA,cAAc,MAAd;;AAEA,IAAI,YAAY,CAAhB;AACA,KAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,EAApB,EAAwB,GAAxB,EAA6B;AAC3B,MAAI,SAAS,IAAI,OAAJ,CAAY,IAAZ,CAAb;AACA,SAAO,EAAP,CAAU,SAAV,EAAqB,YAAW;AAC9B;AACA,QAAI,cAAc,EAAlB,EAAsB,WAAW,OAAX;AACvB,GAHD;;AAKA;AACA,SAAO,EAAP,CAAU,OAAV,EAAmB,YAAW,CAAE,CAAhC;AACD;;AAED,SAAS,OAAT,GAAmB;AACjB,SAAO,OAAP,CAAe,YAAW;AACxB,YAAQ,GAAR,CAAY,IAAZ;AACD,GAFD;AAGD","file":"test-compiled.js","sourcesContent":["var net = require('net');\nvar assert = require('assert');\nvar enableDestroy = require('./index.js');\n\nvar server = net.createServer(function(conn) {\n  var i = setInterval(function() {\n    conn.read();\n    conn.write('hi\\n');\n  }, 100);\n  i.unref();\n});\nserver.listen(1337);\nenableDestroy(server);\n\nvar connected = 0;\nfor (var i = 0; i < 10; i++) {\n  var client = net.connect(1337);\n  client.on('connect', function() {\n    connected++;\n    if (connected === 10) setTimeout(destroy);\n  });\n\n  // just ignore the resets\n  client.on('error', function() {});\n}\n\nfunction destroy() {\n  server.destroy(function() {\n    console.log('ok');\n  });\n}\n"]}