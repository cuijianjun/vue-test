{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA,OAAO,OAAP,GAAiB,aAAjB;;AAEA,SAAS,aAAT,CAAuB,MAAvB,EAA+B;AAC7B,MAAI,cAAc,EAAlB;;AAEA,SAAO,EAAP,CAAU,YAAV,EAAwB,UAAS,IAAT,EAAe;AACrC,QAAI,MAAM,KAAK,aAAL,GAAqB,GAArB,GAA2B,KAAK,UAA1C;AACA,gBAAY,GAAZ,IAAmB,IAAnB;AACA,SAAK,EAAL,CAAQ,OAAR,EAAiB,YAAW;AAC1B,aAAO,YAAY,GAAZ,CAAP;AACD,KAFD;AAGD,GAND;;AAQA,SAAO,OAAP,GAAiB,UAAS,EAAT,EAAa;AAC5B,WAAO,KAAP,CAAa,EAAb;AACA,SAAK,IAAI,GAAT,IAAgB,WAAhB;AACE,kBAAY,GAAZ,EAAiB,OAAjB;AADF;AAED,GAJD;AAKD","file":"index-compiled.js","sourcesContent":["module.exports = enableDestroy;\n\nfunction enableDestroy(server) {\n  var connections = {}\n\n  server.on('connection', function(conn) {\n    var key = conn.remoteAddress + ':' + conn.remotePort;\n    connections[key] = conn;\n    conn.on('close', function() {\n      delete connections[key];\n    });\n  });\n\n  server.destroy = function(cb) {\n    server.close(cb);\n    for (var key in connections)\n      connections[key].destroy();\n  };\n}\n"]}