{"version":3,"sources":["util-compiled.js"],"names":[],"mappings":"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","file":"util-compiled-compiled.js","sourcesContent":["'use strict';\n\nimport _Object$keys from \"babel-runtime/core-js/object/keys\";\nimport _JSON$stringify from \"babel-runtime/core-js/json/stringify\";\nimport _Symbol$iterator from \"babel-runtime/core-js/symbol/iterator\";\nimport _typeof2 from \"babel-runtime/helpers/typeof\";\nimport _Symbol from \"babel-runtime/core-js/symbol\";\nimport _Object$assign from \"babel-runtime/core-js/object/assign\";\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = _Object$assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }return target;\n};\n\nvar _typeof = typeof _Symbol === \"function\" && _typeof2(_Symbol$iterator) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n} : function (obj) {\n  return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n};\n\nexports.format = format;\nexports.isEmptyValue = isEmptyValue;\nexports.isEmptyObject = isEmptyObject;\nexports.asyncMap = asyncMap;\nexports.complementError = complementError;\nexports.deepMerge = deepMerge;\nvar formatRegExp = /%[sdj%]/g;\n\nvar warning = exports.warning = function warning() {};\n\n// don't print warning message when in production env or node runtime\nif (process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && typeof document !== 'undefined') {\n  exports.warning = warning = function warning(type, errors) {\n    if (typeof console !== 'undefined' && console.warn) {\n      if (errors.every(function (e) {\n        return typeof e === 'string';\n      })) {\n        console.warn(type, errors);\n      }\n    }\n  };\n}\n\nfunction format() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var i = 1;\n  var f = args[0];\n  var len = args.length;\n  if (typeof f === 'function') {\n    return f.apply(null, args.slice(1));\n  }\n  if (typeof f === 'string') {\n    var str = String(f).replace(formatRegExp, function (x) {\n      if (x === '%%') {\n        return '%';\n      }\n      if (i >= len) {\n        return x;\n      }\n      switch (x) {\n        case '%s':\n          return String(args[i++]);\n        case '%d':\n          return Number(args[i++]);\n        case '%j':\n          try {\n            return _JSON$stringify(args[i++]);\n          } catch (_) {\n            return '[Circular]';\n          }\n          break;\n        default:\n          return x;\n      }\n    });\n    for (var arg = args[i]; i < len; arg = args[++i]) {\n      str += ' ' + arg;\n    }\n    return str;\n  }\n  return f;\n}\n\nfunction isNativeStringType(type) {\n  return type === 'string' || type === 'url' || type === 'hex' || type === 'email' || type === 'pattern';\n}\n\nfunction isEmptyValue(value, type) {\n  if (value === undefined || value === null) {\n    return true;\n  }\n  if (type === 'array' && Array.isArray(value) && !value.length) {\n    return true;\n  }\n  if (isNativeStringType(type) && typeof value === 'string' && !value) {\n    return true;\n  }\n  return false;\n}\n\nfunction isEmptyObject(obj) {\n  return _Object$keys(obj).length === 0;\n}\n\nfunction asyncParallelArray(arr, func, callback) {\n  var results = [];\n  var total = 0;\n  var arrLength = arr.length;\n\n  function count(errors) {\n    results.push.apply(results, errors);\n    total++;\n    if (total === arrLength) {\n      callback(results);\n    }\n  }\n\n  arr.forEach(function (a) {\n    func(a, count);\n  });\n}\n\nfunction asyncSerialArray(arr, func, callback) {\n  var index = 0;\n  var arrLength = arr.length;\n\n  function next(errors) {\n    if (errors && errors.length) {\n      callback(errors);\n      return;\n    }\n    var original = index;\n    index = index + 1;\n    if (original < arrLength) {\n      func(arr[original], next);\n    } else {\n      callback([]);\n    }\n  }\n\n  next([]);\n}\n\nfunction flattenObjArr(objArr) {\n  var ret = [];\n  _Object$keys(objArr).forEach(function (k) {\n    ret.push.apply(ret, objArr[k]);\n  });\n  return ret;\n}\n\nfunction asyncMap(objArr, option, func, callback) {\n  if (option.first) {\n    var flattenArr = flattenObjArr(objArr);\n    return asyncSerialArray(flattenArr, func, callback);\n  }\n  var firstFields = option.firstFields || [];\n  if (firstFields === true) {\n    firstFields = _Object$keys(objArr);\n  }\n  var objArrKeys = _Object$keys(objArr);\n  var objArrLength = objArrKeys.length;\n  var total = 0;\n  var results = [];\n  var next = function next(errors) {\n    results.push.apply(results, errors);\n    total++;\n    if (total === objArrLength) {\n      callback(results);\n    }\n  };\n  objArrKeys.forEach(function (key) {\n    var arr = objArr[key];\n    if (firstFields.indexOf(key) !== -1) {\n      asyncSerialArray(arr, func, next);\n    } else {\n      asyncParallelArray(arr, func, next);\n    }\n  });\n}\n\nfunction complementError(rule) {\n  return function (oe) {\n    if (oe && oe.message) {\n      oe.field = oe.field || rule.fullField;\n      return oe;\n    }\n    return {\n      message: oe,\n      field: oe.field || rule.fullField\n    };\n  };\n}\n\nfunction deepMerge(target, source) {\n  if (source) {\n    for (var s in source) {\n      if (source.hasOwnProperty(s)) {\n        var value = source[s];\n        if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && _typeof(target[s]) === 'object') {\n          target[s] = _extends({}, target[s], value);\n        } else {\n          target[s] = value;\n        }\n      }\n    }\n  }\n  return target;\n}\n\n//# sourceMappingURL=util-compiled.js.map"]}